@if(isAddUser){
  <app-add-user (close)="onClose()"></app-add-user>
}
@if(isUpdateUser){
  <app-update-user (close)="onClose()" [id]="updateId"></app-update-user>
}

<div class="header-table">
    <h3>User Manager</h3>
    <button nz-button nzType="primary" nzSize="large" nzShape="round" (click)="onOpenAdd()">
        <i class="fa-regular fa-square-plus"></i>
        Create
    </button>
</div>
<br/>
<app-table
        [rows]="pageResult.items"
        [page]="pageResult.pageIndex"
        [pageSize]="pageResult.pageSize"
        [totalRows]="pageResult.totalItems"
        [clientPagination]="false"
        (pageIndexChange)="onPageIndexChange($event)"
        (pageSizeChange)="onPageSizeChange($event)"
        (searchChange)="onSearchChange($event)"
        [loading]="loading"
>
    <ngvn-column header="ID" key="id"></ngvn-column>
    <ngvn-column header="First Name" key="firstName" [sortable]="true"
                 (sortChange)="onSortChange($event)"></ngvn-column>
    <ngvn-column header="Last Name" key="lastName" [sortable]="true" (sortChange)="onSortChange($event)"></ngvn-column>
    <ngvn-column header="Date Of Birth" key="dateOfBirth" [dataType]="COL_DATA_TYPE.DATE" [sortable]="true"
                 (sortChange)="onSortChange($event)"></ngvn-column>
    <ngvn-column header="User Name" key="userName" [sortable]="true" (sortChange)="onSortChange($event)"></ngvn-column>
    <ngvn-column header="Email" key="email" [sortable]="true" (sortChange)="onSortChange($event)"></ngvn-column>
    <ngvn-column header="Phone Number" key="phoneNumber"></ngvn-column>
    <ngvn-column header="Role" key="roles"></ngvn-column>
    <ngvn-column header="Action">
        <ng-template appCell let-data>
            <td>
                <button nz-button nzType="primary" nzSize="small" nzShape="round" (click)="onStartUpdate(data)">
                    <i class="fa-regular fa-pen-to-square"></i>
                    Update
                </button>
                <!--                <nz-divider nzType="vertical"></nz-divider>-->
                <!--                <button nz-button nzType="primary" nzSize="small" nzShape="round" nzDanger>-->
                <!--                    <i class="fa-regular fa-trash-can"></i>-->
                <!--                    Delete-->
                <!--                </button>-->
            </td>
        </ng-template>
    </ngvn-column>
</app-table>
<!--<app-dialog-admin-->
<!--        [isVisible]="isVisibleDialog"-->
<!--        [isOkLoading]="isLoandingDialod"-->
<!--        (close)="onClose()"-->
<!--        (submit)="onSubmit()"-->
<!--&gt;-->
<!--    <ngvn-dialog dialogName="Add User">-->
<!--        <ng-template appDialogContent>-->
<!--            <form>-->
<!--                <div class="form-group">-->
<!--                    <label for="name">Name </label>-->
<!--                    <input type="text" id="name" name="name" placeholder="Enter walk name" required [(ngModel)]="name"/>-->
<!--                </div>-->
<!--            </form>-->
<!--        </ng-template>-->
<!--    </ngvn-dialog>-->
<!--</app-dialog-admin>-->
